<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Şifre Oluşturucu</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
html, body {
    margin: 0;
    padding: 0;
    font-family: 'Roboto', sans-serif;
    background: black;
    overflow: hidden;
    height: 100%;
}
canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 0;
}
.container {
    position: relative;
    z-index: 1;
    background: rgba(0,0,0,0.85);
    padding: 25px;
    border-radius: 15px;
    width: 90%;
    max-width: 500px;
    margin: 20px auto;
    text-align: center;
    color: #0f0;
}
h2 { margin-bottom: 20px; color: #0f0; }
.password {
    margin: 20px 0 10px 0;
    padding: 15px;
    font-size: 1.2em;
    background: rgba(0,0,0,0.9);
    border-radius: 10px;
    word-break: break-all;
    min-height: 50px;
    position: relative;
    color: #0f0;
    font-family: monospace;
}
.copy-btn { position: absolute; right: 10px; top: 10px; background: #0f0; color: black; border: none; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-size: 0.9em; }
.copy-btn:hover { background: #0a0; }
.options, .slider-container { margin: 15px 0; text-align: left; }
.options label { display: block; margin: 5px 0; font-size: 0.95em; cursor: pointer; color: #0f0; }
button.generate { background: #0f0; color: black; border: none; padding: 12px 25px; border-radius: 12px; cursor: pointer; font-size: 1em; transition: 0.3s; margin-top: 10px; }
button.generate:hover { background: #0a0; }
.strength-bar { margin-top: 10px; width: 100%; height: 20px; background: #222; border-radius: 10px; overflow: hidden; display: flex; align-items: center; }
.strength-fill { height: 100%; width: 0; border-radius: 10px; transition: width 0.3s ease, background-color 0.3s ease; display: flex; justify-content: space-around; align-items: center; padding: 0 5px; }
.strength-icon { font-size: 0.9em; color: black; }
.slider-container input[type="range"] { width: 100%; cursor: pointer; }
.copied-msg { color: #0f0; font-size: 0.9em; margin-top: 5px; display: none; }

@media (max-width: 480px) {
    .container { padding: 15px; }
    .password { font-size: 1em; }
    button.generate { width: 100%; }
}
</style>
</head>
<body>
<canvas id="matrix"></canvas>

<div class="container">
<h2>Şifre Oluşturucu</h2>

<div class="slider-container">
<label>Uzunluk: <span id="lengthValue">16</span></label>
<input type="range" id="length" min="8" max="64" value="16" oninput="updateLength()">
</div>

<div class="options">
<label><input type="checkbox" id="uppercase" checked> Büyük Harf</label>
<label><input type="checkbox" id="lowercase" checked> Küçük Harf</label>
<label><input type="checkbox" id="numbers" checked> Sayılar</label>
<label><input type="checkbox" id="symbols" checked> Özel Karakterler</label>
</div>

<button class="generate" onclick="generatePassword()">Şifre Oluştur</button>

<div class="password" id="password">
...
<button class="copy-btn" onclick="copyPassword()">Kopyala</button>
</div>

<div class="strength-bar">
<div class="strength-fill" id="strengthFill"></div>
</div>

<div class="copied-msg" id="copiedMsg">Kopyalandı!</div>
</div>

<script>
// Slider
function updateLength() {
    document.getElementById('lengthValue').textContent = document.getElementById('length').value;
}

// Matrix background
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()*&^%';
const fontSize = 16;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#0f0';
    ctx.font = fontSize + 'px monospace';
    for(let i = 0; i < drops.length; i++){
        const text = letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(text, i*fontSize, drops[i]*fontSize);
        drops[i]++;
        if(drops[i]*fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
    }
}
setInterval(drawMatrix, 35);

// Şifre oluşturma
function generatePassword() {
    const length = parseInt(document.getElementById('length').value);
    const useUppercase = document.getElementById('uppercase').checked;
    const useLowercase = document.getElementById('lowercase').checked;
    const useNumbers = document.getElementById('numbers').checked;
    const useSymbols = document.getElementById('symbols').checked;

    if (!useUppercase && !useLowercase && !useNumbers && !useSymbols) {
        alert('En az bir karakter türü seçmelisiniz!');
        return;
    }

    const upperChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const lowerChars = 'abcdefghijklmnopqrstuvwxyz';
    const numberChars = '0123456789';
    const symbolChars = '!@#$%^&*()_+[]{}|;:,.<>?';
    let allChars = '';
    if (useUppercase) allChars += upperChars;
    if (useLowercase) allChars += lowerChars;
    if (useNumbers) allChars += numberChars;
    if (useSymbols) allChars += symbolChars;

    let password = '';
    const pwdEl = document.getElementById('password');
    pwdEl.childNodes[0].nodeValue = '';

    let i = 0;
    const interval = setInterval(() => {
        if (i < length) {
            const randomChar = allChars.charAt(Math.floor(Math.random() * allChars.length));
            pwdEl.childNodes[0].nodeValue += randomChar;
            i++;
        } else {
            clearInterval(interval);
        }
    }, 50);

    // Güç çubuğu
    let score = 0;
    if (useUppercase) score++;
    if (useLowercase) score++;
    if (useNumbers) score++;
    if (useSymbols) score++;
    if (length >= 12) score++;

    const fillEl = document.getElementById('strengthFill');
    const width = (score/5)*100 + '%';
    let color = 'red';
    if(score<=2) color='red';
    else if(score===3||score===4) color='orange';
    else color='green';
    fillEl.style.width = width;
    fillEl.style.backgroundColor = color;

    fillEl.innerHTML = '';
    if(useUppercase) fillEl.innerHTML += '<span class="strength-icon">A</span>';
    if(useLowercase) fillEl.innerHTML += '<span class="strength-icon">a</span>';
    if(useNumbers) fillEl.innerHTML += '<span class="strength-icon">1</span>';
    if(useSymbols) fillEl.innerHTML += '<span class="strength-icon">#</span>';
}

function copyPassword() {
    const password = document.getElementById('password').childNodes[0].nodeValue;
    navigator.clipboard.writeText(password).then(() => {
        const msg = document.getElementById('copiedMsg');
        msg.style.display='block';
        setTimeout(()=>{msg.style.display='none';},1500);
    });
}

window.addEventListener('resize', ()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
updateLength();
</script>
</body>
</html>
